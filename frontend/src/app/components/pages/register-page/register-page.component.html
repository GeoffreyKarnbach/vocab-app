<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-6">
      <h2 class="text-center mb-4">Register</h2>
      <form (ngSubmit)="register()" #registerForm="ngForm">
        <div class="mb-3 position-relative">
          <label for="username" class="form-label">Username</label>
          <input
            type="text"
            id="username"
            class="form-control"
            [(ngModel)]="registerDto.username"
            name="username"
            required
            #username="ngModel"
          />
          <div *ngIf="username.invalid && username.touched" class="text-danger">
            Username is required.
          </div>
        </div>

        <div class="mb-3 position-relative">
          <label for="password" class="form-label">Password</label>
          <div style="display: flex; align-items: center">
            <input
              [type]="passwordVisible ? 'text' : 'password'"
              id="password"
              class="form-control"
              [(ngModel)]="registerDto.password"
              name="password"
              required
              minlength="6"
              #password="ngModel"
              style="margin-right: 0.25em"
            />
            <button
              type="button"
              class="btn btn-secondary"
              (click)="togglePasswordVisibility()"
            >
              <i class="bi-eye"></i>
            </button>
          </div>
          <div *ngIf="password.invalid && password.touched" class="text-danger">
            Password must be at least 6 characters long.
          </div>
        </div>

        <div class="mb-3 position-relative">
          <label for="confirmPassword" class="form-label"
            >Confirm Password</label
          >
          <div style="display: flex; align-items: center">
            <input
              [type]="confirmPasswordVisible ? 'text' : 'password'"
              id="confirmPassword"
              class="form-control"
              [(ngModel)]="confirmPassword"
              name="confirmPassword"
              required
              [ngClass]="{
                'is-invalid':
                  confirmPassword && confirmPassword !== registerDto.password
              }"
              style="margin-right: 0.25em"
            />
            <button
              type="button"
              class="btn btn-secondary"
              (click)="toggleConfirmPasswordVisibility()"
            >
              <i class="bi-eye"></i>
            </button>
          </div>
          <div
            *ngIf="confirmPassword && confirmPassword !== registerDto.password"
            class="text-danger"
          >
            Passwords must match.
          </div>
        </div>

        <button
          type="submit"
          class="btn btn-primary"
          [disabled]="registerForm.invalid"
          style="display: block; margin: 0 auto; width: 75%"
        >
          Register
        </button>
      </form>
    </div>
  </div>
</div>
